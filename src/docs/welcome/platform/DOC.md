# The Platform and how it works

## Chrome

Chrome (or Insights Chrome) is the "wrapper" around your application. At the moment, Chrome does a lot of thigs for the platform:

- Serves the sidenav (generated by the source of truth) & routes accordingly - injected with ESI tags
- Serves the masthead - injected with ESI tags
- Authenticates with Keycloakjs
- Exposes window functions
- Supplies the inventory Component
- Exposes CSS Variables and SCSS functions/mixins

![Example of Chrome:](https://github.com/RedHatInsights/insights-frontend-storybook/blob/master/src/docs/welcome/img/chrome.png?raw=true)

## The Source of Truth

The source of truth is where all of the platform's applications are listed along with their sub applications, deployment repos, and pathing.

There is a `main.yml` file that is referenced in every environment as a branch in the [Cloud Services Config repository](https://github.com/RedHatInsights/cloud-services-config).

Examples:

- [prod-stable](https://github.com/RedHatInsights/cloud-services-config/blob/prod-stable/main.yml)
- [ci-beta](https://github.com/RedHatInsights/cloud-services-config/blob/ci-beta/main.yml)

## Proxy

The Proxy (or Insights Proxy) is a container that uses [Spandx](https://github.com/RedHatInsights/spandx) which provides ESI tags. This allows the sidenav and masthead from chrome to get injected and also allows routing between apps.

Developers can pass custom spandx config files

## Frontend Components

The frontend component repository is a monorepo with separate packages that are distributed as npm packages.

- charts: d3.js charts. These are not recommended if you can use Patternfly (PF) charts.
- components: components that are PF component shims, combination of PF components, or cloud-services specific components
- config: shared webpack config files
- inventory: the "inventory" application that is also embedded in many applications
- inventory-compliance: the compliance tab in inventory
- inventory-general-info: the general information page in inventory
- inventory-insights: the insights tab in inventory
- notifications: the notifications and alerts "portal"
- remediations: the remediations client
- translations: package to have translated text across the platform
- utils: common utilities needed across the platform

## Starter Application

The starter application is a repository that is complete with routing, a spandx config, and a sample page with components imported from the component library. This is a great place to start for new applications.
